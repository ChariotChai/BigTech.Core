使用 C# 设计 ECS 系统框架，除了基础的 ECS 系统，还要支持以下功能：
1、能够描述 component 之间 多对多的关系，即 component A 绑定的
2、能够被外部通过 API 调用，类似调用 OOP 的对象方法，可能会同时影响到很多个 entity 及其各种 component
3、一套内部事件机制，某个 Entity 的 component 实例变化时，会自动触发这个 component 上绑定的所有 handler
4、API 调用完成后，能够采集到这次 API 调用过程中所有发生变化的 entity 的component
5、API 调用支持事务，即能够回滚
6、支持序列化与反序列化


基于上述框架，增加流程引擎功能：
1、流程由若干节点构成。每种类型的节点有自己的 context 和 回调函数。
2、流程的编排仅需要支持线性结构和分支逻辑结构。
3、某些类型的节点需要等待用户输入回调，遇到这种情况，整个流程需要阻塞在这个节点直到用户回调。


我想设计一个回合制策略游戏的 AI 玩家系统，满足以下需求：
1、我已经提供了游戏的状态描述，形式是若干张表，表的列值都是字符串、整数或者浮点数。表与表之间可能存在外键。AI 系统需要将状态转换为 AI 规划模型的输入（如张量模型等形式）。
2、对于一个确定的状态空间，可以计算得到操作空间。操作空间是由一组可执行的操作组成的一维向量。
3、AI 玩家需要在回合开始时，计算计算操作空间，


最小AI闭环：
- 2个玩家
- 每个玩家 3 个 hero
- 每个 hero 有 HP、ATK、DEF 三个属性及其对应的最大值
- hero 有6个技能，每个技能可以升级（需要消耗金钱），技能会影响上述属性
- 玩家每回合开始会随机获得一定量的金钱，
- 
